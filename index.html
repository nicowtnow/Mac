<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pear Inc. - Universal Repo</title>
    <style>
        body { 
            background: linear-gradient(to bottom, #003366 0%, #001a33 100%);
            background-attachment: fixed;
            color: #ffffff; 
            font-family: "Lucida Grande", sans-serif; 
            margin: 0; padding: 0; min-height: 100vh;
        }
        #navbar {
            background: linear-gradient(to bottom, #454545 0%, #111111 100%);
            height: 44px; border-bottom: 1px solid #000;
            display: flex; align-items: center; padding: 0 15px;
            position: sticky; top: 0; z-index: 1000;
        }
        .apple-icon { font-size: 20px; color: white; margin-right: 15px; }
        #navbar ul { list-style: none; margin: 0; padding: 0; display: flex; flex: 1; height: 100%; }
        #navbar li {
            flex: 1; text-align: center; line-height: 44px;
            color: #ccc; font-size: 11px; font-weight: bold;
            cursor: pointer; border-right: 1px solid #333;
        }
        #navbar li.active { background: linear-gradient(to bottom, #111111 0%, #444 100%); color: #fff; border-bottom: 2px solid #ffffff; }

        #main-container { 
            max-width: 600px; margin: 40px auto; padding: 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px; border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
            text-align: center;
        }
        .section { display: none; }
        .section.active { display: block; }
        .log-box { 
            background: rgba(0,0,0,0.3); border: 2px solid #ffffff;
            padding: 25px; margin: 20px 0; border-radius: 10px;
        }
        .count-num { font-size: 55px; font-weight: bold; color: #39FF14; font-family: 'Courier New', monospace; text-shadow: 0 0 10px #39FF14; }
        
        #toast {
            display: none; position: fixed; top: 60px; left: 50%;
            transform: translateX(-50%); background: #ffffff; color: #000;
            padding: 10px 20px; border-radius: 20px; font-size: 13px; font-weight: bold; z-index: 2000;
        }
        footer { text-align: center; padding: 40px 0; }
        .nico-credit { color: #666; font-size: 11px; cursor: pointer; padding: 10px; }
    </style>
</head>
<body>

<div id="toast">SINCRONIZACIÓN UNIVERSAL ACTIVA</div>

<div id="navbar">
    <div class="apple-icon"></div>
    <ul>
        <li id="tab-5d" onclick="showSection('5d')">5D</li>
        <li id="tab-pear" onclick="showSection('pear')">Pear</li>
        <li id="tab-cydia" class="active" onclick="showSection('cydia')">Cydia</li>
        <li id="tab-xt" onclick="showSection('xt')">XT</li>
    </ul>
</div>

<div id="main-container">
    <div id="sec-cydia" class="section active">
        <h2>Servidor Pear Inc.</h2>
        <div class="log-box">
            <p style="font-size: 10px; color: #aaa; margin: 0; letter-spacing: 2px;">LIVE REQUESTS (CYDIA)</p>
            <div id="contador-dinamico" class="count-num">---</div>
            <p style="font-size: 11px; color: #39FF14; margin: 5px 0 0 0;">STATUS: CONSTANT STREAM</p>
        </div>
        <p style="font-size: 12px; color: #888;">https://nicowtnow.github.io/Mac/</p>
    </div>

    <div id="sec-pear" class="section">
        <h2>Corporación Pear Inc.</h2>
        <p style="font-size: 13px; text-align: justify; line-height: 1.6;">Desarrollo de <b>theztap</b> y el OS de Pearphone en C++. Todo basado en la infraestructura del Teseracto.</p>
    </div>

    <div id="sec-5d" class="section">
        <h2>Memoria 5D</h2>
        <p style="font-size: 14px; font-style: italic; text-align: justify; border-left: 3px solid #39FF14; padding-left: 15px;">
            "La sabiduría es información auto-impuesta, no externa. El universo opera sobre el trabajo de dimensiones previas."
        </p>
    </div>

    <div id="sec-xt" class="section">
        <h2>Pearphone XT</h2>
        <p style="font-size: 13px;">Kernel: <b>C++ (PearCore)</b><br>Architecture: <b>Teseracto 5D</b></p>
    </div>
</div>

<footer>
    <div class="nico-credit" onclick="triggerMagic()">
        &copy; 2026 Pear Inc. - <b>Nico 2026</b>
    </div>
</footer>

<script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>

<script type="text/javascript">
    const firebaseConfig = {
      apiKey: "AIzaSyDtV17bKSfJ_shwkRCxipRoPuxcZNL7o3k",
      authDomain: "pearserver-f8a0e.firebaseapp.com",
      databaseURL: "https://pearserver-f8a0e-default-rtdb.firebaseio.com",
      projectId: "pearserver-f8a0e",
      storageBucket: "pearserver-f8a0e.appspot.com",
      messagingSenderId: "34841932085", 
      appId: "1:34841932085:web:96610f04b7ae4e8cca9c7c"
    };

    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const serverRef = database.ref('servidor');
    const patronSuma = [44, 72, 25, 83];

    // Sincronización en vivo con la nube
    serverRef.on('value', (snapshot) => {
        const data = snapshot.val();
        if (data) {
            document.getElementById('contador-dinamico').innerText = data.peticiones;
        } else {
            // Valor inicial de Nico
            serverRef.set({ peticiones: 277, index: 0 });
        }
    });

    // Suma automática cada 30 segundos (No se detiene nunca)
    setInterval(() => {
        serverRef.transaction((currentData) => {
            if (currentData) {
                let n = parseInt(currentData.peticiones) + patronSuma[currentData.index % patronSuma.length];
                // El Big Grand Reset ocurre al llegar a 1000
                if (n >= 1000) n = 277; 
                currentData.peticiones = n;
                currentData.index = (currentData.index + 1) % patronSuma.length;
            }
            return currentData;
        });
    }, 30000);

    function triggerMagic() {
        const toast = document.getElementById('toast');
        toast.style.display = 'block';
        setTimeout(() => { toast.style.display = 'none'; }, 2000);
    }

    function showSection(id) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('#navbar li').forEach(t => t.classList.remove('active'));
        document.getElementById('sec-' + id).classList.add('active');
        document.getElementById('tab-' + id).classList.add('active');
    }
</script>
</body>
</html>
