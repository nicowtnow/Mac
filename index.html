<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Pear Inc. - Repositorio</title>
    <style>
        /* Estética azul marino solicitada */
        body { 
            background-color: #001f3f; 
            color: #ffffff; 
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; 
            margin: 0;
            padding: 20px;
        }
        #content { 
            max-width: 650px; 
            margin: auto; 
            border: 1px solid #003366; 
            padding: 20px;
            background-color: #002b55;
        }
        h2, h3 { color: #fbff00; } /* Títulos en amarillo para resaltar */
        .log-box { 
            border: 1px solid #ffffff; 
            padding: 15px; 
            margin: 20px 0;
            text-align: center;
        }
        .count-num { 
            font-size: 35px; 
            font-weight: bold; 
            display: block;
            margin: 10px 0;
        }
        hr { border: 0.5px solid #004080; }
    </style>
</head>
<body>

<div id="content">
    <div align="center">
        <h2>Pear Inc. Repo</h2>
        <p><i>"Universal Intelligence & 5D Memory"</i></p>
    </div>
    
    <p>Bienvenido al repositorio oficial de Nico. Aquí se gestiona el trabajo previo de Luca y la evolución de los Teseractos en iOS.</p>
    
    <hr>
    
    <h3>Instalación:</h3>
    <p>URL: <b>https://nicowtnow.github.io/Mac/</b></p>

    <div class="log-box">
        <p style="font-size: 14px; margin: 0;">ESTADO DE PETICIONES (CYDIA):</p>
        <span id="contador-dinamico" class="count-num">Cargando datos...</span>
        <p id="status-text" style="font-size: 12px; margin: 0; color: #aaa;"></p>
    </div>

    <hr>
    <p align="center">Proyecto escolar de Nico - 2026</p>
</div>

<script type="text/javascript">
    function gestionarSistema() {
        const ahora = new Date();
        const inicioAño = new Date(ahora.getFullYear(), 0, 1);
        const diasPasados = Math.floor((ahora - inicioAño) / (24 * 60 * 60 * 1000));
        const semanaActual = Math.ceil(diasPasados / 7);
        
        // El día de descanso cambia cada semana (0-6)
        const diaDescanso = semanaActual % 7; 
        const hoy = ahora.getDay();

        if (hoy === diaDescanso) {
            document.getElementById('contador-dinamico').innerHTML = "SYSTEM STANDBY";
            document.getElementById('status-text').innerHTML = "Ciclo de mantenimiento aleatorio. Hoy no se registran peticiones.";
            return;
        }

        let base = 142;
        const horaActual = ahora.getHours();
        const bloques = Math.floor(horaActual / 4);
        
        // Números aleatorios basados en tus rangos (58, 46, 97...)
        function getAleatorio(semilla) {
            const x = Math.sin(diasPasados + semilla) * 10000;
            return Math.floor((x - Math.floor(x)) * (98 - 45 + 1)) + 45;
        }

        let extra = 0;
        for (let i = 0; i < bloques; i++) {
            extra += getAleatorio(i);
        }

        document.getElementById('contador-dinamico').innerHTML = base + extra;
        document.getElementById('status-text').innerHTML = "Peticiones procesadas en las últimas " + (bloques * 4) + " horas.";
    }

    gestionarSistema();
</script>

</body>
</html>
